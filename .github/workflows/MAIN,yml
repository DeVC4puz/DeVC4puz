# GitHub Action para gerar um gráfico de contribuição com uma cobra comendo suas contribuições.

nome: Gerar Cobra

# Controla quando a ação será executada. Esta ação é executada a cada 6 horas.

sobre:
  agendar:
      # a cada 6 horas
    -cron: "0 */6 * * *"

# Este comando nos permite executar a ação automaticamente na guia Ações.
  fluxo de trabalho_dispatch:

# A sequência de execuções neste fluxo de trabalho:
empregos:
  # Este fluxo de trabalho contém um único trabalho chamado "build"
  construir:
    # O tipo de executor em que o trabalho será executado
    executado: ubuntu-mais recente

    # As etapas representam uma sequência de tarefas que serão executadas como parte do trabalho
    passos:

    # Verifica o repositório em $GITHUB_WORKSHOP, para que seu trabalho possa acessá-lo
      - usa: ações/checkout@v2

    #Gera a cobra
      - usos: Platane/snk@master
        id: cobra-gif
        com:
          github_user_name: maneiras erradas
          # essas próximas 2 linhas geram os arquivos em um branch chamado "output". Isso evita que o ramo principal fique confuso.
          gif_out_path: dist/github-contribution-grid-snake.gif
          svg_out_path: dist/github-contribution-grid-snake.svg

     # mostra o status da compilação. Facilita a depuração (se houver algum problema).
      - executar: status do git

      # Empurre as alterações
      - nome: alterações push
        usa: ad-m/github-push-action@master
        com:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          ramo: mestre
          força: verdadeiro

      - usa: crazy-max/ghaction-github-pages@v2.1.3
        com:
          # o branch de saída que mencionamos acima
          target_branch: saída
          build_dir: dist
        ambiente:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
